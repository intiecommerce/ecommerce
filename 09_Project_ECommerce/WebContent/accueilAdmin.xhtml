<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title></title>
</h:head>
<h:body>

	<ui:insert name="menuAdmin">
		<ui:include src="/ressource/template/menuAdmin.xhtml" />
	</ui:insert>

	<h:form>
		<h1 style="color: red; text-align: center">Liste des catégories</h1>
		<p:dataTable var="cat" value="#{sessionScope.catSession}" id="Tab">
			<p:column headerText="ID de la catégorie">
				<h:outputText value="#{cat.idCategorie}" />
			</p:column>

			<p:column headerText="Nom de la catégorie">
				<h:outputText value="#{cat.nomCategorie}" />
			</p:column>

			<p:column headerText="Description de la catégorie">
				<h:outputText value="#{cat.description}" />
			</p:column>



			<p:column headerText="Operation">
				<p:commandLink value="supprimer" action="#{catMB.supprCategorie}"
					update="Tab">
					<f:setPropertyActionListener value="#{cat.idCategorie}"
						target="#{catMB.categorie.idCategorie}" />
				</p:commandLink>
			|
			<p:commandLink value="modifier" action="modifierCategorie">
					<f:setPropertyActionListener value="#{cat}"
						target="#{catMB.categorie}" />
				</p:commandLink>
			</p:column>
		</p:dataTable>
	</h:form>
	<h:form>
		<h1 style="color: red; text-align: center">Liste des produits</h1>
		<p:dataTable var="pro" value="#{sessionScope.proSession}" id="Tab">
			<p:column headerText="ID du produit">
				<h:outputText value="#{pro.idProduit}" />
			</p:column>

			<p:column headerText="Designation du produit">
				<h:outputText value="#{pro.designation}" />
			</p:column>

			<p:column headerText="Description">
				<h:outputText value="#{pro.description}" />
			</p:column>

			<p:column headerText="Prix">
				<h:outputText value="#{pro.prix}" />
			</p:column>

			<p:column headerText="Quantité">
				<h:outputText value="#{pro.quantite}" />
			</p:column>
			
				<p:column headerText="Nom de la catégorie">
				<h:outputText value="#{pro.categorie.nomCategorie}" />
			</p:column>


			<p:column headerText="Operation">
				<p:commandLink value="supprimer" action="#{proMB.supprProduit}"
					update="Tab">
					<f:setPropertyActionListener value="#{pro.idProduit}"
						target="#{proMB.produit.idProduit}" />
				</p:commandLink>
			|
			<p:commandLink value="modifier" action="modifierProduit">
					<f:setPropertyActionListener value="#{pro}"
						target="#{proMB.produit}" />
				</p:commandLink>
			</p:column>
		</p:dataTable>
	</h:form>
</h:body>
</html>